(()=>{"use strict";const n=function(n,e){var t=document.createElement(n);if(e)for(var r in e)e.hasOwnProperty(r)&&t.setAttribute(r,e[r]);for(var o=0;o<(arguments.length<=2?0:arguments.length-2);o++){var a=o+2<2||arguments.length<=o+2?void 0:arguments[o+2];"string"==typeof a&&(a=document.createTextNode(a)),t.appendChild(a)}return t};function e(n,e){var t=e.getBoundingClientRect();return{x:Math.floor(n.clientX-t.left),y:Math.floor(n.clientY-t.top)}}const t={brush:function(n,t){t.lineCap="round",t.lineJoin="round";var r=t.getImageData(0,0,t.canvas.width,t.canvas.height),o=e(n,t.canvas);t.beginPath(),t.moveTo(o.x,o.y),function(n,t,r){var o=function(o){n.putImageData(t,0,0),r(e(o,n.canvas))};document.addEventListener("mousemove",o,!1),document.addEventListener("mouseup",(function a(i){n.putImageData(t,0,0),r(e(i,n.canvas)),document.removeEventListener("mousemove",o,!1),document.removeEventListener("mouseup",a,!1)}),!1)}(t,r,(function(n){t.lineTo(n.x,n.y),t.stroke()}))},line:function(n,e){e.lineCap="round"}};function r(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function o(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var a=function(){function n(){!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),o(this,"paintTool",void 0)}var e,t;return e=n,t=[{key:"Instance",get:function(){return this.instance||(this.instance=new this)}}],null&&r(e.prototype,null),t&&r(e,t),n}();o(a,"instance",void 0);const i=a.Instance;function l(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function u(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var c=function(){function n(){!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),u(this,"colorInput",void 0)}var e,t;return e=n,t=[{key:"Instance",get:function(){return this.instance||(this.instance=new this)}}],null&&l(e.prototype,null),t&&l(e,t),n}();u(c,"instance",void 0);const s=c.Instance,f={painter:function(e){var r=n("select",null),o=n("label",null,"그리기 도구 : ",r);for(var a in t)r.appendChild(n("option",{value:a},a));return r.selectedIndex=0,console.log(r.children[0].value),i.paintTool=r.children[0].value,r.addEventListener("change",(function(){i.paintTool=r.children[r.selectedIndex].value}),!1),o},color:function(e){var t=s.colorInput=n("input",{type:"color"}),r=n("label",null,"색: ",t);return t.addEventListener("change",(function(){e.strokeStyle=t.value,e.fillStyle=t.value}),!1),r}};function v(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var d,p,h,y,m,b,g,w;d=document.body,p=n("h2",null,"페인터"),g=function(e,r){var o=n("canvas",{width:e,height:r}),a=o.getContext("2d");return o.style.border="1px solid gray",o.style.cursor="pointer",o.addEventListener("mousedown",(function(n){var e=document.createEvent("HTMLEvents");e.initEvent("change",!1,!0),s.colorInput.dispatchEvent(e),console.log("tete",s.colorInput,i.paintTool),t[i.paintTool](n,a)}),!1),[o,a]}(800,600),w=2,y=(h=function(n){if(Array.isArray(n))return n}(g)||function(n,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(n)){var t=[],r=!0,o=!1,a=void 0;try{for(var i,l=n[Symbol.iterator]();!(r=(i=l.next()).done)&&(t.push(i.value),!e||t.length!==e);r=!0);}catch(n){o=!0,a=n}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return t}}(g,w)||function(n,e){if(n){if("string"==typeof n)return v(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?v(n,e):void 0}}(g,w)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],m=h[1],b=n("div",null,""),Object.keys(f).map((function(n){b.appendChild(f[n](m))})),b.style.fontSize="small",b.style.marginBottom="3px",d.appendChild(n("div",null,p,b,y))})();